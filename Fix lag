repeat task.wait() until game:IsLoaded()

local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")
local player = Players.LocalPlayer
local Workspace = game:GetService("Workspace")

-- Danh s√°ch class c·∫ßn DI·ªÜT
local BadClasses = {
    "ParticleEmitter",
    "Trail",
    "Beam",
    "Fire",
    "Smoke",
    "Sparkles",
    "Explosion",
    "Highlight",
    "Decal",
    "Texture",
    "SurfaceAppearance",
    "BlurEffect",
    "BloomEffect",
    "SunRaysEffect",
    "ColorCorrectionEffect",
    "DepthOfFieldEffect",
    "Atmosphere",
    "Clouds"
}

local function IsBad(obj)
    for _, c in ipairs(BadClasses) do
        if obj:IsA(c) then
            return true
        end
    end
    return false
end

-- H·ªßy ƒë·ªì h·ªça
local function Nuke(obj)
    pcall(function()
        if IsBad(obj) then
            obj:Destroy()
        elseif obj:IsA("SpecialMesh") then
            obj:Destroy()
        elseif obj:IsA("MeshPart") or obj:IsA("UnionOperation") or obj:IsA("Part") then
            obj.Material = Enum.Material.Plastic
            obj.Reflectance = 0
            obj.CastShadow = false
        end
    end)
end

-- D·ªçn to√†n map
local function FullClean()
    -- Lighting
    pcall(function()
        Lighting.GlobalShadows = false
        Lighting.FogEnd = 9e9
        Lighting.Brightness = 1
        for _, v in pairs(Lighting:GetChildren()) do
            v:Destroy()
        end
    end)

    -- Workspace
    for _, v in pairs(Workspace:GetDescendants()) do
        Nuke(v)
    end

    -- Nh√¢n v·∫≠t
    if player.Character then
        for _, v in pairs(player.Character:GetDescendants()) do
            Nuke(v)
        end
    end

    -- √âp quality th·∫•p nh·∫•t
    pcall(function()
        settings().Rendering.QualityLevel = 1
    end)

    collectgarbage("collect")
end

-- Ch·∫°y l·∫ßn ƒë·∫ßu
FullClean()
print("‚úÖ UNIVERSAL NO EFFECT MODE ON")

-- Auto khi respawn
player.CharacterAdded:Connect(function()
    task.wait(1)
    FullClean()
end)

-- üî• DI·ªÜT REALTIME: b·∫•t c·ª© th·ª© g√¨ spawn ra l√† xo√°
Workspace.DescendantAdded:Connect(function(obj)
    Nuke(obj)
end)

-- D·ªçn l·∫°i m·ªói 5 gi√¢y (ph√≤ng game spawn ·∫©n)
task.spawn(function()
    while true do
        task.wait(5)
        pcall(FullClean)
    end
end)
