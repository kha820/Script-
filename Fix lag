-- ROBLOX FIX LAG / BOOST FPS
-- By ChatGPT

local Lighting = game:GetService("Lighting")
local Terrain = workspace:FindFirstChildOfClass("Terrain")

-- Tối ưu Lighting
pcall(function()
    Lighting.GlobalShadows = false
    Lighting.FogEnd = 9e9
    Lighting.Brightness = 1
    Lighting.EnvironmentDiffuseScale = 0
    Lighting.EnvironmentSpecularScale = 0
end)

-- Xóa hiệu ứng nặng
for _, v in pairs(Lighting:GetChildren()) do
    if v:IsA("PostEffect") or v:IsA("BloomEffect") or v:IsA("SunRaysEffect") or v:IsA("BlurEffect") or v:IsA("ColorCorrectionEffect") then
        v.Enabled = false
    end
end

-- Tối ưu Terrain
pcall(function()
    Terrain.WaterWaveSize = 0
    Terrain.WaterWaveSpeed = 0
    Terrain.WaterReflectance = 0
    Terrain.WaterTransparency = 0
end)

-- Tối ưu vật thể trong map
for _, v in pairs(workspace:GetDescendants()) do
    if v:IsA("Part") or v:IsA("MeshPart") or v:IsA("UnionOperation") then
        pcall(function()
            v.Material = Enum.Material.Plastic
            v.Reflectance = 0
        end)
    elseif v:IsA("Decal") or v:IsA("Texture") then
        pcall(function()
            v:Destroy() -- Xóa texture để giảm lag
        end)
    elseif v:IsA("ParticleEmitter") or v:IsA("Trail") or v:IsA("Smoke") or v:IsA("Fire") or v:IsA("Sparkles") then
        pcall(function()
            v.Enabled = false
        end)
    end
end

-- Giảm chất lượng render
settings().Rendering.QualityLevel = Enum.QualityLevel.Level01

print("✅ FIX LAG ĐÃ BẬT - FPS BOOSTED!")
